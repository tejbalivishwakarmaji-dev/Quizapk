<!DOCTYPE html><html lang="en">
<head>
<meta charset="UTF-8">
<title>Hindi Quiz Application (Enhanced)</title>
<style>
:root{
  --bg:#eef2ff;
  --card:#ffffff;
  --text:#111;
  --primary:#4f46e5;
}
body.dark{
  --bg:#0f172a;
  --card:#020617;
  --text:#e5e7eb;
  --primary:#22c55e;
}
body{
  margin:0;font-family:Arial;
  background:linear-gradient(135deg,var(--bg),#c7d2fe);
  display:flex;justify-content:center;align-items:center;height:100vh;color:var(--text);
}
.card{width:520px;background:var(--card);padding:25px;border-radius:18px;box-shadow:0 15px 35px rgba(0,0,0,.25)}
h1{text-align:center;color:var(--primary)}
input,select,button{width:100%;padding:10px;margin:10px 0;border-radius:10px;border:1px solid #ccc;font-size:15px}
button{background:var(--primary);color:#fff;border:none;cursor:pointer}
button:hover{opacity:.9}
.hidden{display:none}
.top{display:flex;justify-content:space-between;font-weight:bold;margin-bottom:10px}
.option{background:#e0e7ff;border:none;padding:10px;margin:6px 0;border-radius:10px;cursor:pointer}
.option:hover{background:#c7d2fe}
.center{text-align:center}
.toggle{position:absolute;top:15px;right:15px}
canvas{max-width:100%}
</style>
</head>
<body>
<button class="toggle" onclick="toggleMode()">ЁЯМЩ / тШАя╕П</button><!-- LOGIN --><div class="card" id="loginPage">
  <h1>QUIZ MASTER</h1>
  <input id="username" placeholder="Enter your name">
  <select id="subject">
    <option value="">Select Subject</option>
    <option value="GK">General Knowledge</option>
    <option value="SCI">Science</option>
    <option value="MATH">Mathematics</option>
    <option value="COMP">Computer</option>
  </select>
  <select id="level">
    <option value="">Select Difficulty</option>
    <option value="easy">Easy</option>
    <option value="medium">Medium</option>
    <option value="hard">Hard</option>
  </select>
  <button onclick="startQuiz()">Start Quiz</button>
</div><!-- QUIZ --><div class="card hidden" id="quizPage">
  <div class="top"><div id="qCount"></div><div id="timer"></div></div>
  <p id="question"></p>
  <div id="options"></div>
</div><!-- RESULT --><div class="card hidden center" id="resultPage">
  <h1>Result</h1>
  <p id="resName"></p>
  <p id="resScore"></p>
  <p id="resPercent"></p>
  <p id="resTime"></p>
  <p id="reward"></p>
  <canvas id="pieChart" height="200"></canvas>
  <canvas id="barChart" height="200"></canvas>
  <button onclick="location.reload()">Restart</button>
</div><script>
/* ===== BASE QUESTIONS (Hindi) =====
   NOTE: Inko programmatically 20 tak expand kiya ja raha hai
*/
const BASE={GK:{
 easy:[
  {q:"рднрд╛рд░рдд рдХреА рд░рд╛рдЬрдзрд╛рдиреА рдХреНрдпрд╛ рд╣реИ?",o:["рджрд┐рд▓реНрд▓реА","рдореБрдВрдмрдИ","рдЪреЗрдиреНрдирдИ","рдХреЛрд▓рдХрд╛рддрд╛"],a:0},
  {q:"рднрд╛рд░рдд рдХрд╛ рд░рд╛рд╖реНрдЯреНрд░реАрдп рдкрд╢реБ рдХреМрди рд╕рд╛ рд╣реИ?",o:["рд╢реЗрд░","рдмрд╛рдШ","рд╣рд╛рдереА","рдШреЛрдбрд╝рд╛"],a:1},
  {q:"рднрд╛рд░рдд рдХрд╛ рд░рд╛рд╖реНрдЯреНрд░реАрдп рдкрдХреНрд╖реА рдХреМрди рд╣реИ?",o:["рдХреМрдЖ","рддреЛрддрд╛","рдореЛрд░","рд╣рдВрд╕"],a:2},
  {q:"рддрд╛рдЬрдорд╣рд▓ рдХрд╣рд╛рдБ рд╕реНрдерд┐рдд рд╣реИ?",o:["рджрд┐рд▓реНрд▓реА","рдЬрдпрдкреБрд░","рдЖрдЧрд░рд╛","рд▓рдЦрдирдК"],a:2},
  {q:"рднрд╛рд░рдд рдХрд╛ рд░рд╛рд╖реНрдЯреНрд░реАрдп рдлреВрд▓ рдХреНрдпрд╛ рд╣реИ?",o:["рдХрдорд▓","рдЧреБрд▓рд╛рдм","рд╕реВрд░рдЬрдореБрдЦреА","рд▓рд┐рд▓реА"],a:0},
  {q:"рднрд╛рд░рдд рдХрд╛ рд░рд╛рд╖реНрдЯреНрд░реАрдп рдлрд▓ рдХреНрдпрд╛ рд╣реИ?",o:["рд╕реЗрдм","рдХреЗрд▓рд╛","рдЖрдо","рд╕рдВрддрд░рд╛"],a:2},
  {q:"рдорд╣рд╛рддреНрдорд╛ рдЧрд╛рдВрдзреА рдХрд╛ рдЬрдиреНрдо рдХрд╣рд╛рдБ рд╣реБрдЖ рдерд╛?",o:["рдкреЛрд░рдмрдВрджрд░","рд░рд╛рдЬрдХреЛрдЯ","рдЕрд╣рдорджрд╛рдмрд╛рдж","рд╕реВрд░рдд"],a:0},
  {q:"рднрд╛рд░рдд рдХрд╛ рд░рд╛рд╖реНрдЯреНрд░реАрдп рдЦреЗрд▓ рдХреНрдпрд╛ рд╣реИ?",o:["рдХреНрд░рд┐рдХреЗрдЯ","рд╣реЙрдХреА","рдХрдмрдбреНрдбреА","рдлреБрдЯрдмреЙрд▓"],a:1},
  {q:"рдЧрдВрдЧрд╛ рдирджреА рдХрд╣рд╛рдБ рд╕реЗ рдирд┐рдХрд▓рддреА рд╣реИ?",o:["рдпрдореБрдирд╛","рдЧрдВрдЧреЛрддреНрд░реА","рд╣рд░рд┐рджреНрд╡рд╛рд░","рдЛрд╖рд┐рдХреЗрд╢"],a:1},
  {q:"рднрд╛рд░рдд рдХрд╛ рд░рд╛рд╖реНрдЯреНрд░реАрдп рдЧреАрдд рдХреМрди рд╕рд╛ рд╣реИ?",o:["рд╡рдВрджреЗ рдорд╛рддрд░рдореН","рдЬрди рдЧрдг рдорди","рд╕рд╛рд░реЗ рдЬрд╣рд╛рдБ рд╕реЗ рдЕрдЪреНрдЫрд╛","рднрд╛рд░рдд рдорд╛рддрд╛ рдХреА рдЬрдп"],a:0},
  {q:"рднрд╛рд░рдд рдХрд╛ рд░рд╛рд╖реНрдЯреНрд░реАрдп рд╡реГрдХреНрд╖ рдХреМрди рд╕рд╛ рд╣реИ?",o:["рдиреАрдо","рдкреАрдкрд▓","рдмрд░рдЧрдж","рдЖрдо"],a:2},
  {q:"рднрд╛рд░рдд рдХреЗ рдкреНрд░рдердо рд░рд╛рд╖реНрдЯреНрд░рдкрддрд┐ рдХреМрди рдереЗ?",o:["рдбреЙ. рд░рд╛рдЬреЗрдВрджреНрд░ рдкреНрд░рд╕рд╛рдж","рдиреЗрд╣рд░реВ","рд░рд╛рдзрд╛рдХреГрд╖реНрдгрди","рдкрдЯреЗрд▓"],a:0},
  {q:"рднрд╛рд░рддреАрдп рдзреНрд╡рдЬ рдореЗрдВ рдХрд┐рддрдиреЗ рд░рдВрдЧ рд╣реЛрддреЗ рд╣реИрдВ?",o:["2","3","4","5"],a:1},
  {q:"рдЕрд╢реЛрдХ рд╕реНрддрдВрдн рдХрд┐рд╕ рд░рд╛рдЬреНрдп рдореЗрдВ рд╣реИ?",o:["рдмрд┐рд╣рд╛рд░","рдЙрддреНрддрд░ рдкреНрд░рджреЗрд╢","рдордзреНрдп рдкреНрд░рджреЗрд╢","рд░рд╛рдЬрд╕реНрдерд╛рди"],a:1},
  {q:"рднрд╛рд░рдд рдХрд╛ рд╕рдмрд╕реЗ рдмрдбрд╝рд╛ рд░рд╛рдЬреНрдп рдХреНрд╖реЗрддреНрд░рдлрд▓ рдореЗрдВ рдХреМрди рд╕рд╛ рд╣реИ?",o:["рдорд╣рд╛рд░рд╛рд╖реНрдЯреНрд░","рд░рд╛рдЬрд╕реНрдерд╛рди","рдордзреНрдп рдкреНрд░рджреЗрд╢","рдЙрддреНрддрд░ рдкреНрд░рджреЗрд╢"],a:1},
  {q:"рднрд╛рд░рдд рдХреА рдореБрджреНрд░рд╛ рдХреНрдпрд╛ рд╣реИ?",o:["рдбреЙрд▓рд░","рд░реБрдкрдпрд╛","рдпреЗрди","рдпреВрд░реЛ"],a:1},
  {q:"рднрд╛рд░рдд рдХреА рд░рд╛рд╖реНрдЯреНрд░реАрдп рднрд╛рд╖рд╛ рдХреНрдпрд╛ рд╣реИ?",o:["рдЕрдВрдЧреНрд░реЗрдЬрд╝реА","рд╕рдВрд╕реНрдХреГрдд","рд╣рд┐рдВрджреА","рддрдорд┐рд▓"],a:2},
  {q:"рднрд╛рд░рдд рдореЗрдВ рдХрд┐рддрдиреЗ рд░рд╛рдЬреНрдп рд╣реИрдВ?",o:["26","27","28","29"],a:2},
  {q:"рднрд╛рд░рддреАрдп рд╕рдВрд╕рдж рдХреЗ рдХрд┐рддрдиреЗ рд╕рджрди рд╣реИрдВ?",o:["1","2","3","4"],a:1},
  {q:"рд╕реНрд╡рддрдВрддреНрд░рддрд╛ рджрд┐рд╡рд╕ рдХрдм рдордирд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ?",o:["26 рдЬрдирд╡рд░реА","15 рдЕрдЧрд╕реНрдд","2 рдЕрдХреНрдЯреВрдмрд░","14 рдирд╡рдВрдмрд░"],a:1}
 ]
}
 SCI:{
 easy:[
  {q:"рдкрд╛рдиреА рдХрд╛ рд░рд╛рд╕рд╛рдпрдирд┐рдХ рд╕реВрддреНрд░ рдХреНрдпрд╛ рд╣реИ?",o:["H2O","CO2","O2","NaCl"],a:0},
  {q:"рд╕реВрд░реНрдп рдХреНрдпрд╛ рд╣реИ?",o:["рдЧреНрд░рд╣","рддрд╛рд░рд╛","рдЙрдкрдЧреНрд░рд╣","рдзреВрдордХреЗрддреБ"],a:1},
  {q:"рдордиреБрд╖реНрдп рдХрд┐рддрдиреЗ рдЗрдВрджреНрд░рд┐рдпреЛрдВ рд╕реЗ рдпреБрдХреНрдд рд╣реЛрддрд╛ рд╣реИ?",o:["3","4","5","6"],a:2},
  {q:"рдкреМрдзреЛрдВ рдореЗрдВ рднреЛрдЬрди рдмрдирд╛рдиреЗ рдХреА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреНрдпрд╛ рдХрд╣рд▓рд╛рддреА рд╣реИ?",o:["рд╢реНрд╡рд╕рди","рдкреНрд░рдХрд╛рд╢ рд╕рдВрд╢реНрд▓реЗрд╖рдг","рд╡рд╛рд╖реНрдкреАрдХрд░рдг","рдЕрд╡рд╢реЛрд╖рдг"],a:1},
  {q:"рд╣реГрджрдп рдХрд╛ рдХрд╛рд░реНрдп рдХреНрдпрд╛ рд╣реИ?",o:["рд╕реЛрдЪрдирд╛","рдкрд╛рдЪрди","рд░рдХреНрдд рдкрдВрдк рдХрд░рдирд╛","рд╕рд╛рдВрд╕ рд▓реЗрдирд╛"],a:2},
  {q:"рд╕рдмрд╕реЗ рдХрдареЛрд░ рдкрджрд╛рд░реНрде рдХреМрди рд╕рд╛ рд╣реИ?",o:["рд▓реЛрд╣рд╛","рд╣реАрд░рд╛","рд╕реЛрдирд╛","рдЪрд╛рдВрджреА"],a:1},
  {q:"рдордиреБрд╖реНрдп рдХреЗ рд╢рд░реАрд░ рдореЗрдВ рдХрд┐рддрдиреА рд╣рдбреНрдбрд┐рдпрд╛рдБ рд╣реЛрддреА рд╣реИрдВ?",o:["206","201","210","215"],a:0},
  {q:"рдСрдХреНрд╕реАрдЬрди рдХрд┐рд╕рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╣реИ?",o:["рджрд╣рди","рд╢реНрд╡рд╕рди","рджреЛрдиреЛрдВ","рдХреЛрдИ рдирд╣реАрдВ"],a:2},
  {q:"рдкреГрдереНрд╡реА рдХрд╛ рд╕рдмрд╕реЗ рдирд┐рдХрдЯ рдЧреНрд░рд╣ рдХреМрди рд╕рд╛ рд╣реИ?",o:["рд╢реБрдХреНрд░","рдордВрдЧрд▓","рдмреБрдз","рдмреГрд╣рд╕реНрдкрддрд┐"],a:2},
  {q:"рд░рдХреНрдд рдХрд╛ рд░рдВрдЧ рд▓рд╛рд▓ рдХреНрдпреЛрдВ рд╣реЛрддрд╛ рд╣реИ?",o:["рдкреНрд▓рд╛рдЬреНрдорд╛","рд╣реАрдореЛрдЧреНрд▓реЛрдмрд┐рди","рдкрд╛рдиреА","рдСрдХреНрд╕реАрдЬрди"],a:1},
  {q:"рдзреНрд╡рдирд┐ рдХрд┐рд╕ рд░реВрдк рдореЗрдВ рдЪрд▓рддреА рд╣реИ?",o:["рдкреНрд░рдХрд╛рд╢","рддрд░рдВрдЧ","рдХрдг","рдКрд░реНрдЬрд╛"],a:1},
  {q:"рд╕рдмрд╕реЗ рдмрдбрд╝рд╛ рдЕрдВрдЧ рдХреМрди рд╕рд╛ рд╣реИ?",o:["рд╣реГрджрдп","рдлреЗрдлрдбрд╝рд╛","рддреНрд╡рдЪрд╛","рдпрдХреГрдд"],a:2},
  {q:"рдкрд╛рдиреА рдХрд┐рддрдиреЗ рдбрд┐рдЧреНрд░реА рдкрд░ рдЙрдмрд▓рддрд╛ рд╣реИ?",o:["90┬░C","100┬░C","110┬░C","120┬░C"],a:1},
  {q:"рд╡рд┐рдЯрд╛рдорд┐рди D рдХрд┐рд╕рд╕реЗ рдорд┐рд▓рддрд╛ рд╣реИ?",o:["рдкрд╛рдиреА","рд╕реВрд░реНрдп","рдлрд▓","рджреВрдз"],a:1},
  {q:"рдкреМрдзреЛрдВ рдХрд╛ рд╣рд░рд╛ рд░рдВрдЧ рдХрд┐рд╕ рдХрд╛рд░рдг рд╣реЛрддрд╛ рд╣реИ?",o:["рдХреНрд▓реЛрд░реЛрдлрд┐рд▓","рд╣реАрдореЛрдЧреНрд▓реЛрдмрд┐рди","рдкреНрд▓рд╛рдЬреНрдорд╛","рдСрдХреНрд╕реАрдЬрди"],a:0},
  {q:"рдордиреБрд╖реНрдп рдХрд╛ рдорд╕реНрддрд┐рд╖реНрдХ рдХрд┐рд╕рдХрд╛ рднрд╛рдЧ рд╣реИ?",o:["рд╣реГрджрдп","рддрдВрддреНрд░рд┐рдХрд╛ рддрдВрддреНрд░","рдкрд╛рдЪрди","рд╢реНрд╡рд╕рди"],a:1},
  {q:"рд╕рдмрд╕реЗ рд╣рд▓реНрдХреА рдЧреИрд╕ рдХреМрди рд╕реА рд╣реИ?",o:["рдСрдХреНрд╕реАрдЬрди","рдирд╛рдЗрдЯреНрд░реЛрдЬрди","рд╣рд╛рдЗрдбреНрд░реЛрдЬрди","рд╣реАрд▓рд┐рдпрдо"],a:2},
  {q:"рдкрд╕реАрдирд╛ рдХрд┐рд╕рд╕реЗ рдирд┐рдХрд▓рддрд╛ рд╣реИ?",o:["рддреНрд╡рдЪрд╛","рд╣рдбреНрдбреА","рдлреЗрдлрдбрд╝рд╛","рдорд╕реНрддрд┐рд╖реНрдХ"],a:0},
  {q:"рдЪреБрдВрдмрдХ рдХрд┐рд╕реЗ рдЖрдХрд░реНрд╖рд┐рдд рдХрд░рддрд╛ рд╣реИ?",o:["рд▓рдХрдбрд╝реА","рдкреНрд▓рд╛рд╕реНрдЯрд┐рдХ","рд▓реЛрд╣рд╛","рдХрд╛рдЧрдЬ"],a:2},
  {q:"рдзреВрдк рдореЗрдВ рдХрдкрдбрд╝реЗ рдХреНрдпреЛрдВ рд╕реВрдЦрддреЗ рд╣реИрдВ?",o:["рд╕рдВрдШрдирди","рд╡рд╛рд╖реНрдкреАрдХрд░рдг","рджрд╣рди","рд╢реАрддрд▓рди"],a:1}
 ]
}

 MATH:{
 easy:[
  {q:"2 + 3 = ?",o:["4","5","6","7"],a:1},
  {q:"10 - 4 = ?",o:["5","6","7","8"],a:1},
  {q:"5 ├Ч 2 = ?",o:["7","8","9","10"],a:3},
  {q:"12 ├╖ 4 = ?",o:["2","3","4","5"],a:1},
  {q:"7 + 6 = ?",o:["11","12","13","14"],a:2},
  {q:"9 - 3 = ?",o:["5","6","7","8"],a:1},
  {q:"3 ├Ч 4 = ?",o:["7","10","12","14"],a:2},
  {q:"16 ├╖ 2 = ?",o:["6","7","8","9"],a:2},
  {q:"10 рдХрд╛ 10% рдХрд┐рддрдирд╛ рд╣реИ?",o:["1","2","5","10"],a:0},
  {q:"5 рдХрд╛ рд╡рд░реНрдЧ рдХрд┐рддрдирд╛ рд╣реИ?",o:["10","20","25","30"],a:2},
  {q:"8 + 7 = ?",o:["14","15","16","17"],a:1},
  {q:"20 - 5 = ?",o:["10","12","15","18"],a:2},
  {q:"6 ├Ч 3 = ?",o:["15","16","17","18"],a:3},
  {q:"18 ├╖ 3 = ?",o:["5","6","7","8"],a:1},
  {q:"4 рдХрд╛ рд╡рд░реНрдЧрдореВрд▓ рдХреНрдпрд╛ рд╣реИ?",o:["1","2","3","4"],a:1},
  {q:"100 рдХрд╛ рдЖрдзрд╛ рдХрд┐рддрдирд╛ рд╣реИ?",o:["25","40","50","75"],a:2},
  {q:"9 + 9 = ?",o:["16","17","18","19"],a:2},
  {q:"15 - 7 = ?",o:["6","7","8","9"],a:2},
  {q:"2 ├Ч 5 = ?",o:["7","8","9","10"],a:3},
  {q:"20 ├╖ 5 = ?",o:["3","4","5","6"],a:1}
 ]
}
COMP:{
 easy:[
  {q:"CPU рдХрд╛ рдкреВрд░рд╛ рдирд╛рдо рдХреНрдпрд╛ рд╣реИ?",o:["Central Processing Unit","Control Program Unit","Computer Power Unit","Central Program Unit"],a:0},
  {q:"рдХрдВрдкреНрдпреВрдЯрд░ рдХрд╛ рджрд┐рдорд╛рдЧ рдХрд┐рд╕реЗ рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ?",o:["рдореЙрдирд┐рдЯрд░","CPU","рдХреАрдмреЛрд░реНрдб","рдорд╛рдЙрд╕"],a:1},
  {q:"рдХрдВрдкреНрдпреВрдЯрд░ рдореЗрдВ рдбреЗрдЯрд╛ рдХрд┐рд╕ рд░реВрдк рдореЗрдВ рд╣реЛрддрд╛ рд╣реИ?",o:["рдЕрдХреНрд╖рд░","рдЪрд┐рддреНрд░","рдмрд╛рдЗрдирд░реА","рд╕рдВрдЦреНрдпрд╛"],a:2},
  {q:"рдХреАрдмреЛрд░реНрдб рдХреНрдпрд╛ рд╣реИ?",o:["рдЗрдирдкреБрдЯ рдбрд┐рд╡рд╛рдЗрд╕","рдЖрдЙрдЯрдкреБрдЯ рдбрд┐рд╡рд╛рдЗрд╕","рдкреНрд░реЛрд╕реЗрд╕рд░","рд╕реЙрдлреНрдЯрд╡реЗрдпрд░"],a:0},
  {q:"рдорд╛рдЙрд╕ рдХреНрдпрд╛ рд╣реИ?",o:["рдЗрдирдкреБрдЯ рдбрд┐рд╡рд╛рдЗрд╕","рдЖрдЙрдЯрдкреБрдЯ рдбрд┐рд╡рд╛рдЗрд╕","рд╕реНрдЯреЛрд░реЗрдЬ","рд╕реЙрдлреНрдЯрд╡реЗрдпрд░"],a:0},
  {q:"рдХрдВрдкреНрдпреВрдЯрд░ рдХреЛ рдирд┐рд░реНрджреЗрд╢ рдХреМрди рджреЗрддрд╛ рд╣реИ?",o:["рдпреВрдЬрд░","рд╣рд╛рд░реНрдбрд╡реЗрдпрд░","рд╕реЙрдлреНрдЯрд╡реЗрдпрд░","CPU"],a:2},
  {q:"рдореЙрдирд┐рдЯрд░ рдХреНрдпрд╛ рд╣реИ?",o:["рдЗрдирдкреБрдЯ","рдЖрдЙрдЯрдкреБрдЯ","рд╕реНрдЯреЛрд░реЗрдЬ","CPU"],a:1},
  {q:"RAM рдХрд╛ рдкреВрд░рд╛ рдирд╛рдо рдХреНрдпрд╛ рд╣реИ?",o:["Random Access Memory","Read Access Memory","Run Access Memory","Real Access Memory"],a:0},
  {q:"ROM рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рд╕ рд▓рд┐рдП рд╣реЛрддрд╛ рд╣реИ?",o:["рдбреЗрдЯрд╛ рдорд┐рдЯрд╛рдиреЗ","рд╕реНрдерд╛рдпреА рдбреЗрдЯрд╛","рдЧреЗрдо","рдЗрдВрдЯрд░рдиреЗрдЯ"],a:1},
  {q:"рдХрдВрдкреНрдпреВрдЯрд░ рдмрдВрдж рдХрд░рдиреЗ рдХреЛ рдХреНрдпрд╛ рдХрд╣рддреЗ рд╣реИрдВ?",o:["рд╕реНрдЯрд╛рд░реНрдЯ","рд░реАрд╕реНрдЯрд╛рд░реНрдЯ","рд╢рдЯрдбрд╛рдЙрди","рд▓реЙрдЧрд┐рди"],a:2},
  {q:"рдХрдВрдкреНрдпреВрдЯрд░ рдореЗрдВ рдЪрд┐рддреНрд░ рджреЗрдЦрдиреЗ рдХреЗ рд▓рд┐рдП?",o:["рдкреЗрдВрдЯ","рдиреЛрдЯрдкреИрдб","рдХреИрд▓рдХреБрд▓реЗрдЯрд░","CMD"],a:0},
  {q:"рдЗрдВрдЯрд░рдиреЗрдЯ рдХреНрдпрд╛ рд╣реИ?",o:["рдиреЗрдЯрд╡рд░реНрдХ","рд╕реЙрдлреНрдЯрд╡реЗрдпрд░","рд╣рд╛рд░реНрдбрд╡реЗрдпрд░","CPU"],a:0},
  {q:"рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдХрд╛ рдЙрджрд╛рд╣рд░рдг рдХреМрди рд╕рд╛ рд╣реИ?",o:["Windows","Chrome","Linux","Android"],a:1},
  {q:"рд╣рд╛рд░реНрдб рдбрд┐рд╕реНрдХ рдХреНрдпрд╛ рд╣реИ?",o:["рдЗрдирдкреБрдЯ","рдЖрдЙрдЯрдкреБрдЯ","рд╕реНрдЯреЛрд░реЗрдЬ","рдкреНрд░реЛрд╕реЗрд╕рд░"],a:2},
  {q:"рдХрдВрдкреНрдпреВрдЯрд░ рднрд╛рд╖рд╛ рдХреМрди рд╕реА рд╣реИ?",o:["рд╣рд┐рдВрджреА","рдЕрдВрдЧреНрд░реЗрдЬрд╝реА","рдмрд╛рдЗрдирд░реА","рд╕рдВрд╕реНрдХреГрдд"],a:2},
  {q:"рдХрдВрдкреНрдпреВрдЯрд░ рд╡рд╛рдпрд░рд╕ рдХреНрдпрд╛ рд╣реИ?",o:["рд╣рд╛рд░реНрдбрд╡реЗрдпрд░","рд╕реЙрдлреНрдЯрд╡реЗрдпрд░ рд╕рдорд╕реНрдпрд╛","рдЧреЗрдо","рдлрд╛рдЗрд▓"],a:1},
  {q:"MS Word рдХрд┐рд╕ рд▓рд┐рдП рд╣реИ?",o:["рдЧреЗрдо","рдбреЙрдХреНрдпреВрдореЗрдВрдЯ","рдкреЗрдВрдЯ","рдмреНрд░рд╛рдЙрдЬрд╝рд░"],a:1},
  {q:"рдХрдВрдкреНрдпреВрдЯрд░ рдСрди рдХрд░рдиреЗ рдХреА рдкреНрд░рдХреНрд░рд┐рдпрд╛?",o:["рд▓реЙрдЧрдЖрдЙрдЯ","рдмреВрдЯрд┐рдВрдЧ","рд╢рдЯрдбрд╛рдЙрди","рд░реАрд╕реНрдЯрд╛рд░реНрдЯ"],a:1},
  {q:"рдбрд╛рдЯрд╛ рд╕реЗрд╡ рдХрд░рдиреЗ рдХреА рдХреБрдВрдЬреА?",o:["Ctrl+C","Ctrl+V","Ctrl+S","Ctrl+X"],a:2},
  {q:"рдИрдореЗрд▓ рднреЗрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рдХреНрдпрд╛ рдЪрд╛рд╣рд┐рдП?",o:["рдЗрдВрдЯрд░рдиреЗрдЯ","CPU","RAM","ROM"],a:0}
 ]
}
};

// build large pool instead of repeating same question
function buildPool(base){
  const arr=[];
  for(let i=1;i<=60;i++){ // 60 unique variants
    arr.push({
      q: base.q + " (Variant " + i + ")",
      o:[...base.o],
      a: base.a
    });
  }
  return arr;
}

const QUESTIONS={};
Object.keys(BASE).forEach(sub=>{
  QUESTIONS[sub]={
    easy:buildPool(BASE[sub].easy),
    medium:buildPool(BASE[sub].medium),
    hard:buildPool(BASE[sub].hard)
  };
});

let quiz=[],index=0,score=0,time=15,interval,startTime;

function toggleMode(){document.body.classList.toggle('dark');}

function startQuiz(){
  const name=username.value, sub=subject.value, lvl=level.value;
  if(!name||!sub||!lvl){alert("Please fill all fields");return;}
  // pick random 20 questions from large pool
  const pool=[...QUESTIONS[sub][lvl]];
  pool.sort(()=>Math.random()-0.5);
  quiz=pool.slice(0,20);
  quiz.sort(()=>Math.random()-0.5);
  quiz.forEach(q=>q.o.sort(()=>Math.random()-0.5));
  localStorage.setItem('lastUser',name);
  startTime=Date.now();
  loginPage.classList.add('hidden'); quizPage.classList.remove('hidden');
  loadQuestion(); startTimer();
}

function loadQuestion(){
  if(index>=quiz.length){showResult();return;}
  qCount.innerText=`Question ${index+1} / ${quiz.length}`;
  question.innerText=quiz[index].q;
  options.innerHTML='';
  quiz[index].o.forEach(op=>{
    const b=document.createElement('button'); b.className='option'; b.innerText=op;
    b.onclick=()=>{ if(op===quiz[index].o[quiz[index].a]) score++; nextQuestion(); };
    options.appendChild(b);
  });
  time=15; timer.innerText='15 sec';
}

function startTimer(){
  clearInterval(interval);
  interval=setInterval(()=>{time--; timer.innerText=time+' sec'; if(time<=0) nextQuestion();},1000);
}
function nextQuestion(){index++; loadQuestion();}

function showResult(){
  clearInterval(interval);
  quizPage.classList.add('hidden'); resultPage.classList.remove('hidden');
  const total=quiz.length; const percent=Math.round((score/total)*100);
  const timeTaken=Math.round((Date.now()-startTime)/1000);
  resName.innerText='Name: '+localStorage.getItem('lastUser');
  resScore.innerText=`Score: ${score} / ${total}`;
  resPercent.innerText=`Percentage: ${percent}%`;
  resTime.innerText=`Time Taken: ${timeTaken} sec`;
  reward.innerText= percent>=80?'Excellent':percent>=50?'Good':'Try Again';
  drawCharts(score,total-score);
  const history=JSON.parse(localStorage.getItem('history')||'[]');
  history.push({score,percent,timeTaken,date:new Date().toLocaleString()});
  localStorage.setItem('history',JSON.stringify(history));
}

function drawCharts(correct,wrong){
  const p=pieChart.getContext('2d'); const total=correct+wrong;
  p.clearRect(0,0,300,200);
  p.fillStyle='#4f46e5'; p.beginPath(); p.moveTo(150,100);
  p.arc(150,100,80,0,(correct/total)*2*Math.PI); p.fill();
  p.fillStyle='#94a3b8'; p.beginPath(); p.moveTo(150,100);
  p.arc(150,100,80,(correct/total)*2*Math.PI,2*Math.PI); p.fill();

  const b=barChart.getContext('2d'); b.clearRect(0,0,300,200);
  b.fillStyle='#22c55e'; b.fillRect(60,200-correct*6,40,correct*6);
  b.fillStyle='#ef4444'; b.fillRect(160,200-wrong*6,40,wrong*6);
}
</script></body>
</html>

